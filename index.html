
HTML_CONTENT = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exoplanet ML Detector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Exoplanet Detection System</h1>
            <p>Machine Learning for Planetary Classification</p>
        </header>

        <main>
            <section class="input-section">
                <h2>Input Parameters</h2>
                <form id="predictionForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="orbital_period">Orbital Period (days)</label>
                            <input type="number" id="orbital_period" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="transit_duration">Transit Duration (hours)</label>
                            <input type="number" id="transit_duration" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="planet_radius">Planet Radius (R⊕)</label>
                            <input type="number" id="planet_radius" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="stellar_radius">Stellar Radius (R☉)</label>
                            <input type="number" id="stellar_radius" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="equilibrium_temp">Equilibrium Temp (K)</label>
                            <input type="number" id="equilibrium_temp" step="1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="insolation_flux">Insolation Flux (S⊕)</label>
                            <input type="number" id="insolation_flux" step="0.01" required>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Classify</button>
                </form>
            </section>

            <section class="result-section" id="resultSection" style="display: none;">
                <h2>Classification Result</h2>
                <div class="result-card">
                    <div class="prediction" id="prediction"></div>
                    <div class="confidence" id="confidence"></div>
                    <div class="probabilities" id="probabilities"></div>
                </div>
            </section>

            <section class="info-section">
                <h2>About This System</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h3>Data Sources</h3>
                        <p>Kepler, K2, and TESS mission data</p>
                    </div>
                    <div class="info-card">
                        <h3>Algorithm</h3>
                        <p>Random Forest Classifier</p>
                    </div>
                    <div class="info-card">
                        <h3>Features</h3>
                        <p>6 orbital and physical parameters</p>
                    </div>
                    <div class="info-card">
                        <h3>Classes</h3>
                        <p>Confirmed, Candidate, False Positive</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.getElementById('predictionForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                orbital_period: document.getElementById('orbital_period').value,
                transit_duration: document.getElementById('transit_duration').value,
                planet_radius: document.getElementById('planet_radius').value,
                stellar_radius: document.getElementById('stellar_radius').value,
                equilibrium_temp: document.getElementById('equilibrium_temp').value,
                insolation_flux: document.getElementById('insolation_flux').value
            };
            
            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (result.error) {
                    alert('Error: ' + result.error);
                    return;
                }
                
                // Display results
                document.getElementById('prediction').textContent = result.prediction;
                document.getElementById('confidence').textContent = 
                    `Confidence: ${(result.confidence * 100).toFixed(1)}%`;
                
                const probHtml = Object.entries(result.probabilities)
                    .map(([cls, prob]) => 
                        `<div class="prob-item">
                            <span>${cls}</span>
                            <span>${(prob * 100).toFixed(1)}%</span>
                        </div>`
                    ).join('');
                
                document.getElementById('probabilities').innerHTML = probHtml;
                document.getElementById('resultSection').style.display = 'block';
                
            } catch (error) {
                alert('Error making prediction: ' + error);
            }
        });
    </script>
</body>
</html>
"""
